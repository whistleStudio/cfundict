var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,o=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&c(e,t,a[t]);if(n)for(var t of n(a))s.call(a,t)&&c(e,t,a[t]);return e},i=(e,n)=>a(e,t(n));import{r as l,s as u,a as d,t as h,o as f,c as p,b as m,w,d as y,e as k,v as g,f as b,g as _,h as v,F as C,i as S,j as I,k as x,I as M,l as j,m as D,n as T,p as O,q as L,u as P,x as A,y as E,z as q,A as B,B as $,C as U,S as K,D as R}from"./index.a8624381.js";function V({url:e,query:a={},rsv:t=(()=>{}),rej:n=(()=>{})}){l({url:"/api"+e,header:{"Content-Type":"application/json;charset=utf-8"},data:a,success(e){e.statusCode<400?t(e.data):u({title:"ç½‘ç»œå‡ºé”™å•¦",icon:"error"})},fail(e){u({title:"ç½‘ç»œå‡ºé”™å•¦",icon:"error"}),n(e)}})}function W(e,a="error"){u({title:e,icon:a})}function N(e){return{getPage:function(a,t,n){V({url:"/page/getPage",query:{sub:a,cate:t,item:n},rsv(a){a.err?W(a.msg):e.emit("changeMain",a.src)}})}}}var z=(e,a)=>{const t=e.__vccOpts||e;for(const[n,r]of a)t[n]=r;return t};var F=z({name:"headbar",emits:["pop","actSearch","cancelSearch","changeMain"],setup(e,a){const{proxy:t}=D();let n=d({mode:0}),r=d({keyword:"",searchList:[]});function s(){r.keyword="",r.searchList=[],a.emit("cancelSearch"),n.mode=0}let c=function(e,{inv:a=1500}={}){let t;return()=>{clearTimeout(t),t=setTimeout((()=>{e(...arguments)}),a)}}((()=>{T("log","at components/headbar/headbar.vue:70","ðŸ˜Šsearch sth."),V({url:"/page/kwSearch",query:{kw:r.keyword},rsv(e){e.err?r.searchList=[]:r.searchList=e.searchList}})}));const{getPage:l}=N(a);return i(o(o({},h(n)),h(r)),{pop:function(){t.$bus.emit("pop")},actSearch:function(){n.mode=1,a.emit("actSearch")},cancelSearch:s,inputSearch:c,clearKeyword:function(){r.keyword="",r.searchList=[]},redirectPage:function(e,a,t){l(e,a,t),s()}})}},[["render",function(e,a,t,n,r,s){const c=x,o=M,i=j;return f(),p(C,null,[m(c,{class:"headbar"},{default:w((()=>[0==e.mode?(f(),y(c,{key:0,class:"default flex-row-center"},{default:w((()=>[m(c,{onClick:n.pop,class:"iconfont icon-icon_mulu"},null,8,["onClick"]),m(c),m(c,{onClick:n.actSearch,class:"iconfont icon-sousuo"},null,8,["onClick"])])),_:1})):(f(),y(c,{key:1,class:"search flex-row-center"},{default:w((()=>[m(c,null,{default:w((()=>[m(o,{modelValue:e.keyword,"onUpdate:modelValue":a[0]||(a[0]=a=>e.keyword=a),type:"text",placeholder:"Search docs","placeholder-class":"plh",onInput:n.inputSearch},null,8,["modelValue","onInput"]),m(i,{class:"iconfont icon-sousuo"}),k(m(i,{onClick:n.clearKeyword,class:"iconfont icon-quxiao"},null,8,["onClick"]),[[g,e.keyword]])])),_:1}),m(c,{onClick:n.cancelSearch},{default:w((()=>[b("Cancel")])),_:1},8,["onClick"])])),_:1}))])),_:1}),k(m(c,{class:"search-list"},{default:w((()=>[m(i,null,{default:w((()=>[b("Search Result: "),e.keyword&&e.searchList.length?_("",!0):(f(),y(i,{key:0},{default:w((()=>[b("None")])),_:1}))])),_:1}),v("ul",null,[(f(!0),p(C,null,S(e.searchList,((e,a)=>(f(),p("li",{key:a,onClick:a=>n.redirectPage(e.sub,e.cate,e.item)},[m(i,{class:"iconfont icon-a-fenxianglianjie"}),m(i,null,{default:w((()=>[b(I(e.title),1)])),_:2},1024),v("ul",{class:"kword"},[(f(!0),p(C,null,S(e.keyword.split("|"),((e,a)=>(f(),p("li",{key:a},I(e),1)))),128))])],8,["onClick"])))),128))])])),_:1},512),[[g,1==e.mode]])],64)}],["__scopeId","data-v-40e647b4"]]);function G(e,a){return O(e)?a:e}var H={name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted(){const e={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]};document.addEventListener("keyup",(a=>{if(this.disable)return;const t=Object.keys(e).find((t=>{const n=a.key,r=e[t];return r===n||Array.isArray(r)&&r.includes(n)}));t&&setTimeout((()=>{this.$emit(t,{})}),0)}))},render:()=>{}};var J=z({name:"UniDrawer",components:{keypress:H},emits:["change"],props:{mode:{type:String,default:""},mask:{type:Boolean,default:!0},maskClick:{type:Boolean,default:!0},width:{type:Number,default:220}},data:()=>({visibleSync:!1,showDrawer:!1,rightMode:!1,watchTimer:null,drawerWidth:220}),created(){this.drawerWidth=this.width,this.rightMode="right"===this.mode},methods:{clear(){},close(e){("mask"!==e||this.maskClick)&&this.visibleSync&&this._change("showDrawer","visibleSync",!1)},open(){this.visibleSync||this._change("visibleSync","showDrawer",!0)},_change(e,a,t){this[e]=t,this.watchTimer&&clearTimeout(this.watchTimer),this.watchTimer=setTimeout((()=>{this[a]=t,this.$emit("change",t)}),t?50:300)}}},[["render",function(e,a,t,n,r,s){const c=x,o=L("keypress");return r.visibleSync?(f(),y(c,{key:0,class:P([{"uni-drawer--visible":r.showDrawer},"uni-drawer"]),onTouchmove:q(s.clear,["stop","prevent"])},{default:w((()=>[m(c,{class:P(["uni-drawer__mask",{"uni-drawer__mask--visible":r.showDrawer&&t.mask}]),onClick:a[0]||(a[0]=e=>s.close("mask"))},null,8,["class"]),m(c,{class:P(["uni-drawer__content",{"uni-drawer--right":r.rightMode,"uni-drawer--left":!r.rightMode,"uni-drawer__content--visible":r.showDrawer}]),style:E({width:r.drawerWidth+"px"})},{default:w((()=>[A(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"]),m(o,{onEsc:a[1]||(a[1]=e=>s.close("mask"))})])),_:3},8,["class","onTouchmove"])):_("",!0)}],["__scopeId","data-v-31b87047"]]);var Q=z({name:"category",emits:["changeMain"],props:{cateInfo:Array},setup(e,a){const{proxy:t}=D(),n=B(null),r=d({actIdx:[-1,0,0]});function s(){r.actIdx[0]=-1,n._value.open()}function c(){n._value.close()}const{getPage:i}=N(a);return $((()=>{t.$bus.on("pop",s)})),o({drawer:n,drawerOpen:s,drawerClose:c,subClick:function(e){r.actIdx[0]=r.actIdx[0]==e?-1:e},itemClick:function(e,a,t){let{actIdx:n}=r;n[0]=e,n[1]=a,n[2]=t,i(e,a,t),c()}},h(r))}},[["render",function(e,a,t,n,r,s){const c=j,o=x,i=K,l=G(U("uni-drawer"),J);return f(),y(l,{ref:"drawer",mode:"left",width:240},{default:w((()=>[m(o,{class:"drawer-title"},{default:w((()=>[m(c,{onClick:n.drawerClose,class:"iconfont icon-tuichu"},null,8,["onClick"])])),_:1}),m(i,{class:"drawer-content","scroll-y":"true",style:{height:"100%"}},{default:w((()=>[v("ul",{class:"sub-ul"},[(f(!0),p(C,null,S(t.cateInfo,((a,t)=>(f(),p("li",{key:t,class:"sub"},[m(c,{class:P({"sub-active":e.actIdx[0]==t}),onClick:e=>n.subClick(t)},{default:w((()=>[b(I(a.name)+" ",1),m(c,{class:P([{"icon-sanjiaoyou":e.actIdx[0]!=t,"icon-sanjiaoxia":e.actIdx[0]==t},"iconfont tri"])},null,8,["class"])])),_:2},1032,["class","onClick"]),e.actIdx[0]==t?(f(),p("ul",{key:0},[(f(!0),p(C,null,S(a.cate,((e,a)=>(f(),p("li",{key:a,class:"cate"},[m(c,null,{default:w((()=>[b(I(e.name),1)])),_:2},1024),v("ul",null,[(f(!0),p(C,null,S(e.item,((e,r)=>(f(),p("li",{onClick:e=>n.itemClick(t,a,r),class:"item"},I(e),9,["onClick"])))),256))])])))),128))])):_("",!0)])))),128))])])),_:1})])),_:1},512)}],["__scopeId","data-v-3043893a"]]);var X=z({setup(){let e=d({cateMode:0,mainSrc:"",cateInfo:[],isMainShow:!0});return R((()=>{V({url:"/page/home",rsv(a){a.err?W(a.msg):(T("log","at pages/index/index.vue:35",a.src),e.mainSrc=a.src)}}),V({url:"/page/getCate",rsv(a){a.err?hint.error(a.msg):e.cateInfo=a.cateInfo}})})),i(o({},h(e)),{changeMain:function(a){e.mainSrc=a}})}},[["render",function(e,a,t,n,r,s){const c=G(U("headbar"),F),o=x,i=G(U("category"),Q);return f(),y(o,{class:"content"},{default:w((()=>[m(c,{onActSearch:a[0]||(a[0]=a=>e.isMainShow=!1),onCancelSearch:a[1]||(a[1]=a=>e.isMainShow=!0),onChangeMain:n.changeMain},null,8,["onChangeMain"]),k(m(o,{class:"main"},{default:w((()=>[e.mainSrc?(f(),p("iframe",{key:0,src:e.mainSrc,frameborder:"0"},null,8,["src"])):_("",!0)])),_:1},512),[[g,e.isMainShow]]),m(i,{onChangeMain:n.changeMain,cateInfo:e.cateInfo},null,8,["onChangeMain","cateInfo"])])),_:1})}],["__scopeId","data-v-6b562ef4"]]);export{X as default};
