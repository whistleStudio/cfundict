var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,c=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&s(e,t,a[t]);if(n)for(var t of n(a))o.call(a,t)&&s(e,t,a[t]);return e},i=(e,n)=>a(e,t(n));import{r as l,s as u,a as d,t as h,o as f,c as m,b as p,w,d as y,e as k,v as g,f as b,g as _,h as C,F as v,i as S,j as I,k as x,I as M,l as j,m as D,n as T,p as L,q as O,u as P,x as A,y as H,z as E,A as q,B,C as $,S as U,D as K}from"./index.492dfb6b.js";function R({url:e,query:a={},rsv:t=(()=>{}),rej:n=(()=>{})}){l({url:"/api"+e,header:{"Content-Type":"application/json;charset=utf-8"},data:a,success(e){e.statusCode<400?t(e.data):u({title:"ç½‘ç»œå‡ºé”™å•¦",icon:"error"})},fail(e){u({title:"ç½‘ç»œå‡ºé”™å•¦",icon:"error"}),n(e)}})}function V(e,a="error"){u({title:e,icon:a})}function W(e){return{getPage:function(a,t,n){R({url:"/page/getPage",query:{sub:a,cate:t,item:n},rsv(a){a.err?V(a.msg):e.emit("changeMain",a.src)}})}}}var G=(e,a)=>{const t=e.__vccOpts||e;for(const[n,r]of a)t[n]=r;return t};var N=G({name:"headbar",emits:["pop","actSearch","cancelSearch","changeMain","goHome"],setup(e,a){const{proxy:t}=D();let n=d({mode:0}),r=d({keyword:"",searchList:[]});function o(){r.keyword="",r.searchList=[],a.emit("cancelSearch"),n.mode=0}let s=function(e,{inv:a=1500}={}){let t;return()=>{clearTimeout(t),t=setTimeout((()=>{e(...arguments)}),a)}}((()=>{T("log","at components/headbar/headbar.vue:71","ðŸ˜Šsearch sth."),R({url:"/page/kwSearch",query:{kw:r.keyword},rsv(e){e.err?r.searchList=[]:r.searchList=e.searchList}})}));const{getPage:l}=W(a);function u(e,a,t){l(e,a,t),o()}return i(c(c({},h(n)),h(r)),{pop:function(){t.$bus.emit("pop")},actSearch:function(){n.mode=1,a.emit("actSearch")},cancelSearch:o,inputSearch:s,clearKeyword:function(){r.keyword="",r.searchList=[]},redirectPage:u,inputConfirm:function(){let e=r.searchList;e.length?u(e[0].sub,e[0].cate,e[0].item):o()},goHome:function(){a.emit("goHome")}})}},[["render",function(e,a,t,n,r,o){const s=x,c=M,i=j;return f(),m(v,null,[p(s,{class:"headbar"},{default:w((()=>[0==e.mode?(f(),y(s,{key:0,class:"default flex-row-center"},{default:w((()=>[p(s,{onClick:n.pop,class:"iconfont icon-icon_mulu"},null,8,["onClick"]),p(s,{onClick:n.goHome},null,8,["onClick"]),p(s,{onClick:n.actSearch,class:"iconfont icon-sousuo"},null,8,["onClick"])])),_:1})):(f(),y(s,{key:1,class:"search flex-row-center"},{default:w((()=>[p(s,null,{default:w((()=>[p(c,{modelValue:e.keyword,"onUpdate:modelValue":a[0]||(a[0]=a=>e.keyword=a),type:"text",placeholder:"Search docs","placeholder-class":"plh",onInput:n.inputSearch,onConfirm:n.inputConfirm},null,8,["modelValue","onInput","onConfirm"]),p(i,{class:"iconfont icon-sousuo"}),k(p(i,{onClick:n.clearKeyword,class:"iconfont icon-quxiao"},null,8,["onClick"]),[[g,e.keyword]])])),_:1}),p(s,{onClick:n.cancelSearch},{default:w((()=>[b("Cancel")])),_:1},8,["onClick"])])),_:1}))])),_:1}),k(p(s,{class:"search-list"},{default:w((()=>[p(i,null,{default:w((()=>[b("Search Result: "),e.keyword&&e.searchList.length?_("",!0):(f(),y(i,{key:0},{default:w((()=>[b("None")])),_:1}))])),_:1}),C("ul",null,[(f(!0),m(v,null,S(e.searchList,((e,a)=>(f(),m("li",{key:a,onClick:a=>n.redirectPage(e.sub,e.cate,e.item)},[p(i,{class:"iconfont icon-a-fenxianglianjie"}),p(i,null,{default:w((()=>[b(I(e.title),1)])),_:2},1024),C("ul",{class:"kword"},[(f(!0),m(v,null,S(e.keyword.split("|"),((e,a)=>(f(),m("li",{key:a},I(e),1)))),128))])],8,["onClick"])))),128))])])),_:1},512),[[g,1==e.mode]])],64)}],["__scopeId","data-v-2ea48ad3"]]);function z(e,a){return L(e)?a:e}var F={name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted(){const e={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]};document.addEventListener("keyup",(a=>{if(this.disable)return;const t=Object.keys(e).find((t=>{const n=a.key,r=e[t];return r===n||Array.isArray(r)&&r.includes(n)}));t&&setTimeout((()=>{this.$emit(t,{})}),0)}))},render:()=>{}};var J=G({name:"UniDrawer",components:{keypress:F},emits:["change"],props:{mode:{type:String,default:""},mask:{type:Boolean,default:!0},maskClick:{type:Boolean,default:!0},width:{type:Number,default:220}},data:()=>({visibleSync:!1,showDrawer:!1,rightMode:!1,watchTimer:null,drawerWidth:220}),created(){this.drawerWidth=this.width,this.rightMode="right"===this.mode},methods:{clear(){},close(e){("mask"!==e||this.maskClick)&&this.visibleSync&&this._change("showDrawer","visibleSync",!1)},open(){this.visibleSync||this._change("visibleSync","showDrawer",!0)},_change(e,a,t){this[e]=t,this.watchTimer&&clearTimeout(this.watchTimer),this.watchTimer=setTimeout((()=>{this[a]=t,this.$emit("change",t)}),t?50:300)}}},[["render",function(e,a,t,n,r,o){const s=x,c=O("keypress");return r.visibleSync?(f(),y(s,{key:0,class:P([{"uni-drawer--visible":r.showDrawer},"uni-drawer"]),onTouchmove:E(o.clear,["stop","prevent"])},{default:w((()=>[p(s,{class:P(["uni-drawer__mask",{"uni-drawer__mask--visible":r.showDrawer&&t.mask}]),onClick:a[0]||(a[0]=e=>o.close("mask"))},null,8,["class"]),p(s,{class:P(["uni-drawer__content",{"uni-drawer--right":r.rightMode,"uni-drawer--left":!r.rightMode,"uni-drawer__content--visible":r.showDrawer}]),style:H({width:r.drawerWidth+"px"})},{default:w((()=>[A(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"]),p(c,{onEsc:a[1]||(a[1]=e=>o.close("mask"))})])),_:3},8,["class","onTouchmove"])):_("",!0)}],["__scopeId","data-v-31b87047"]]);var Q=G({name:"category",emits:["changeMain"],props:{cateInfo:Array},setup(e,a){const{proxy:t}=D(),n=q(null),r=d({actIdx:[-1,0,0]});function o(){r.actIdx[0]=-1,n._value.open()}function s(){n._value.close()}const{getPage:i}=W(a);return B((()=>{t.$bus.on("pop",o)})),c({drawer:n,drawerOpen:o,drawerClose:s,subClick:function(e){r.actIdx[0]=r.actIdx[0]==e?-1:e},itemClick:function(e,a,t){let{actIdx:n}=r;n[0]=e,n[1]=a,n[2]=t,i(e,a,t),s()}},h(r))}},[["render",function(e,a,t,n,r,o){const s=j,c=x,i=U,l=z($("uni-drawer"),J);return f(),y(l,{ref:"drawer",mode:"left",width:240},{default:w((()=>[p(c,{class:"drawer-title"},{default:w((()=>[p(s,{onClick:n.drawerClose,class:"iconfont icon-tuichu"},null,8,["onClick"])])),_:1}),p(i,{class:"drawer-content","scroll-y":"true",style:{height:"100%"}},{default:w((()=>[C("ul",{class:"sub-ul"},[(f(!0),m(v,null,S(t.cateInfo,((a,t)=>(f(),m("li",{key:t,class:"sub"},[p(s,{class:P({"sub-active":e.actIdx[0]==t}),onClick:e=>n.subClick(t)},{default:w((()=>[b(I(a.name)+" ",1),p(s,{class:P([{"icon-sanjiaoyou":e.actIdx[0]!=t,"icon-sanjiaoxia":e.actIdx[0]==t},"iconfont tri"])},null,8,["class"])])),_:2},1032,["class","onClick"]),e.actIdx[0]==t?(f(),m("ul",{key:0},[(f(!0),m(v,null,S(a.cate,((e,a)=>(f(),m("li",{key:a,class:"cate"},[p(s,null,{default:w((()=>[b(I(e.name),1)])),_:2},1024),C("ul",null,[(f(!0),m(v,null,S(e.item,((e,r)=>(f(),m("li",{onClick:e=>n.itemClick(t,a,r),class:"item"},I(e),9,["onClick"])))),256))])])))),128))])):_("",!0)])))),128))])])),_:1})])),_:1},512)}],["__scopeId","data-v-3043893a"]]);var X=G({setup(){let e=d({cateMode:0,mainSrc:"",cateInfo:[],isMainShow:!0});function a(){e.mainSrc="",R({url:"/page/home",rsv(a){a.err?V(a.msg):e.mainSrc=a.src}})}return K((()=>{a(),R({url:"/page/getCate",rsv(a){a.err?hint.error(a.msg):e.cateInfo=a.cateInfo}})})),i(c({},h(e)),{changeMain:function(a){e.mainSrc=a},goHome:a})}},[["render",function(e,a,t,n,r,o){const s=z($("headbar"),N),c=x,i=z($("category"),Q);return f(),y(c,{class:"content"},{default:w((()=>[p(s,{onActSearch:a[0]||(a[0]=a=>e.isMainShow=!1),onCancelSearch:a[1]||(a[1]=a=>e.isMainShow=!0),onChangeMain:n.changeMain,onGoHome:n.goHome},null,8,["onChangeMain","onGoHome"]),k(p(c,{class:"main"},{default:w((()=>[e.mainSrc?(f(),m("iframe",{key:0,src:e.mainSrc,frameborder:"0"},null,8,["src"])):_("",!0)])),_:1},512),[[g,e.isMainShow]]),p(i,{onChangeMain:n.changeMain,cateInfo:e.cateInfo},null,8,["onChangeMain","cateInfo"])])),_:1})}],["__scopeId","data-v-9d8b11da"]]);export{X as default};
